{"ast":null,"code":"//let id = 0;\nexport default {\n  name: \"PostIt\",\n  props: {\n    msg: String\n  },\n\n  data() {\n    return {\n      hide: false,\n      stickys: [] // mySticky: [],\n\n    };\n  },\n\n  async mounted() {\n    //if (localStorage.getItem(\"stickys\")) {\n    try {\n      const response = await fetch(\"http://5.135.119.239:3090/notes\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      this.stickys = await response.json();\n      this.stickys = this.stickys.notes;\n    } catch (e) {//localStorage.removeItem(\"stickys\");\n    } //}\n    //if (localStorage.id) {\n    //id = localStorage.id;\n    //}\n\n  },\n\n  methods: {\n    async addSticky() {\n      const response = await fetch(\"http://5.135.119.239:3090/notes\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          title: \"Post-It\",\n          content: [\"Tapez votre texte\"]\n        })\n      });\n      console.log(response); //console.log(this.content);\n      //contents.push({ content: this.content });\n      //this.stickys.push({ title: \"My Post-it\", content: this.contents });\n    },\n\n    async save(id) {\n      console.log(this.stickys); //const parsed = JSON.stringify(this.stickys);\n\n      const response = await fetch(`http://5.135.119.239:3090/notes/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.stickys)\n      }); //this.stickys = await response.json();\n\n      console.log(response);\n    },\n\n    hideDelete() {\n      this.hide = !this.hide;\n    },\n\n    async removeSticky(id) {\n      //this.stickys = this.stickys.filter((t) => t !== sticky);\n      const response = await fetch(`http://5.135.119.239:3090/notes/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      console.log(response);\n    },\n\n    goToNote(id) {\n      this.$router.push(`/note/${id}`);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoCA;AACA,eAAe;AACdA,MAAI,EAAE,QADQ;AAEdC,OAAK,EAAE;AACNC,OAAG,EAAEC;AADC,GAFO;;AAMdC,MAAI,GAAG;AACN,WAAO;AACNC,UAAI,EAAE,KADA;AAENC,aAAO,EAAE,EAFH,CAGN;;AAHM,KAAP;AAKA,GAZa;;AAad,QAAMC,OAAN,GAAgB;AACf;AACA,QAAI;AACH,YAAMC,QAAO,GAAI,MAAMC,KAAK,CAAC,iCAAD,EAAoC;AAC/DC,cAAM,EAAE,KADuD;AAE/DC,eAAO,EAAE;AACR,0BAAgB;AADR;AAFsD,OAApC,CAA5B;AAMA,WAAKL,OAAL,GAAe,MAAME,QAAQ,CAACI,IAAT,EAArB;AACA,WAAKN,OAAL,GAAe,KAAKA,OAAL,CAAaO,KAA5B;AACD,KATA,CASE,OAAOC,CAAP,EAAU,CACX;AACD,KAbe,CAcf;AACA;AACA;AACA;;AACA,GA/Ba;;AAgCdC,SAAO,EAAE;AACR,UAAMC,SAAN,GAAkB;AACjB,YAAMR,QAAO,GAAI,MAAMC,KAAK,CAAC,iCAAD,EAAoC;AAC/DC,cAAM,EAAE,MADuD;AAE/DC,eAAO,EAAE;AACR,0BAAgB;AADR,SAFsD;AAK/DM,YAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,eAAK,EAAE,SAAT;AAAoBC,iBAAO,EAAE,CAAC,mBAAD;AAA7B,SAAf;AALyD,OAApC,CAA5B;AAOAC,aAAO,CAACC,GAAR,CAAYf,QAAZ,EARiB,CAUjB;AACA;AACA;AACA,KAdO;;AAeR,UAAMgB,IAAN,CAAWC,EAAX,EAAe;AACdH,aAAO,CAACC,GAAR,CAAY,KAAKjB,OAAjB,EADc,CAEd;;AACA,YAAME,QAAO,GAAI,MAAMC,KAAK,CAAE,mCAAkCgB,EAAG,EAAvC,EAA0C;AACrEf,cAAM,EAAE,KAD6D;AAErEC,eAAO,EAAE;AACR,0BAAgB;AADR,SAF4D;AAKrEM,YAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKb,OAApB;AAL+D,OAA1C,CAA5B,CAHc,CAUd;;AACAgB,aAAO,CAACC,GAAR,CAAYf,QAAZ;AACA,KA3BO;;AA4BRkB,cAAU,GAAG;AACZ,WAAKrB,IAAL,GAAY,CAAC,KAAKA,IAAlB;AACA,KA9BO;;AA+BR,UAAMsB,YAAN,CAAmBF,EAAnB,EAAuB;AACtB;AACA,YAAMjB,QAAO,GAAI,MAAMC,KAAK,CAAE,mCAAkCgB,EAAG,EAAvC,EAA0C;AACrEf,cAAM,EAAE,QAD6D;AAErEC,eAAO,EAAE;AACR,0BAAgB;AADR;AAF4D,OAA1C,CAA5B;AAMAW,aAAO,CAACC,GAAR,CAAYf,QAAZ;AACA,KAxCO;;AAyCRoB,YAAQ,CAACH,EAAD,EAAK;AACZ,WAAKI,OAAL,CAAaC,IAAb,CAAmB,SAAQL,EAAG,EAA9B;AACA;;AA3CO;AAhCK,CAAf","names":["name","props","msg","String","data","hide","stickys","mounted","response","fetch","method","headers","json","notes","e","methods","addSticky","body","JSON","stringify","title","content","console","log","save","id","hideDelete","removeSticky","goToNote","$router","push"],"sourceRoot":"","sources":["/Users/anthonymaruenda/Rendu/C-DEV-121-PAR-1-2-postit-anthony.maruenda/postit/src/components/PostIt.vue"],"sourcesContent":["<!-- @format -->\n\n<template>\n\t<body>\n\t\t<h1>{{ msg }}</h1>\n\n\t\t<!-- ici démarre le contenu du composant -->\n\t\t<div class=\"pannel\">\n\t\t\t<button @click=\"addSticky\">Ajouter un Post-It</button>\n\t\t\t<button @click=\"hideDelete\" v-if=\"hide\">Arrêter la suppression</button>\n\t\t\t<button @click=\"hideDelete\" v-else>Supprimer un Post-It</button>\n\t\t</div>\n\n\t\t<ul>\n\t\t\t<li v-for=\"sticky in stickys\" :key=\"sticky._id\">\n\t\t\t\t<a href=\"#\">\n\t\t\t\t\t<h2>{{ sticky.title }}</h2>\n\t\t\t\t\t<textarea v-model=\"sticky.content\" v-on:keyup.enter=\"save(sticky._id)\"></textarea>\n\t\t\t\t\t<div class=\"stickyButton\">\n\t\t\t\t\t\t<button @click=\"removeSticky(sticky._id)\" class=\"delete\" v-if=\"hide\">\n\t\t\t\t\t\t\t<img src=\"../assets/trash.png\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class=\"delete\" v-else :disabled=\"isDisabled\"></button>\n\t\t\t\t\t\t<!--<router-link to=\"/note\">-->\n\t\t\t\t\t\t<button class=\"arrow\" @click=\"goToNote(sticky._id)\">\n\t\t\t\t\t\t\t<img src=\"../assets/arrow-right.png\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<!--</router-link>-->\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t</ul>\n\t</body>\n</template>\n\n<script>\n//let id = 0;\nexport default {\n\tname: \"PostIt\",\n\tprops: {\n\t\tmsg: String,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\thide: false,\n\t\t\tstickys: [],\n\t\t\t// mySticky: [],\n\t\t};\n\t},\n\tasync mounted() {\n\t\t//if (localStorage.getItem(\"stickys\")) {\n\t\ttry {\n\t\t\tconst response = await fetch(\"http://5.135.119.239:3090/notes\", {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t});\n\t\t\tthis.stickys = await response.json();\n\t\t\tthis.stickys = this.stickys.notes;\n\t\t} catch (e) {\n\t\t\t//localStorage.removeItem(\"stickys\");\n\t\t}\n\t\t//}\n\t\t//if (localStorage.id) {\n\t\t//id = localStorage.id;\n\t\t//}\n\t},\n\tmethods: {\n\t\tasync addSticky() {\n\t\t\tconst response = await fetch(\"http://5.135.119.239:3090/notes\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ title: \"Post-It\", content: [\"Tapez votre texte\"] }),\n\t\t\t});\n\t\t\tconsole.log(response);\n\n\t\t\t//console.log(this.content);\n\t\t\t//contents.push({ content: this.content });\n\t\t\t//this.stickys.push({ title: \"My Post-it\", content: this.contents });\n\t\t},\n\t\tasync save(id) {\n\t\t\tconsole.log(this.stickys);\n\t\t\t//const parsed = JSON.stringify(this.stickys);\n\t\t\tconst response = await fetch(`http://5.135.119.239:3090/notes/${id}`, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(this.stickys),\n\t\t\t});\n\t\t\t//this.stickys = await response.json();\n\t\t\tconsole.log(response);\n\t\t},\n\t\thideDelete() {\n\t\t\tthis.hide = !this.hide;\n\t\t},\n\t\tasync removeSticky(id) {\n\t\t\t//this.stickys = this.stickys.filter((t) => t !== sticky);\n\t\t\tconst response = await fetch(`http://5.135.119.239:3090/notes/${id}`, {\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t});\n\t\t\tconsole.log(response);\n\t\t},\n\t\tgoToNote(id) {\n\t\t\tthis.$router.push(`/note/${id}`);\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\nbody {\n\tbackground-image: url(\"../assets/liege.webp\");\n\tcolor: #fff;\n\tfont-family: \"Lato\", sans-serif;\n\theight: 100%;\n}\n\n* {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.pannel {\n\tdisplay: flex;\n\tjustify-content: space-evenly;\n}\n\n.stickyButton {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\nbutton {\n\tmargin-top: 1rem;\n\tmargin-bottom: 1rem;\n\tpadding: 0.8rem;\n\tbackground: #10ac84;\n\tcolor: white;\n\tborder-radius: 5px;\n\tfont-weight: 700;\n\tcursor: pointer;\n\tfont-size: 1rem;\n}\n\n.delete {\n\tmargin-top: none;\n\tbackground: none;\n\tborder: none;\n}\n.arrow {\n\tmargin-top: none;\n\tbackground: none;\n\tborder: none;\n\tcolor: black;\n\tfont-weight: 700px;\n}\n\nh1 {\n\tcolor: black;\n\tfont-size: 3rem;\n}\n\nh2 {\n\tfont-weight: bold;\n\tfont-size: 1.5rem;\n}\np {\n\tfont-family: \"Reenie Beanie\", cursive;\n\tfont-size: 1.8rem;\n}\n\nul {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n}\nul,\nli {\n\tlist-style: none;\n}\n\nul li a {\n\ttext-decoration: none;\n\tcolor: #000;\n\tbackground: #ffc;\n\tdisplay: block;\n\theight: 12em;\n\twidth: 12em;\n\tpadding: 0;\n\tbox-shadow: 5px 5px 7px rgba(33, 33, 33, 0.7);\n\ttransform: rotate(-6deg);\n\ttransition: transform 0.15s linear;\n}\n\nul li a:hover,\nul li a:focus {\n\tbox-shadow: 10px 10px 7px rgba(0, 0, 0, 0.7);\n\ttransform: scale(1.25);\n\tposition: relative;\n}\n\nul li {\n\tmargin: 2em;\n}\n\ntextarea {\n\tmargin-top: 1rem;\n\twidth: 180px;\n\theight: 80px;\n\tbackground: none;\n\tborder: 0px;\n\tfont-size: 1.8rem;\n\tfont-family: \"Reenie Beanie\", cursive;\n\toutline: none;\n\tresize: none;\n}\n\nul li:nth-child(even) a {\n\ttransform: rotate(4deg);\n\tposition: relative;\n\ttop: 5px;\n\tbackground: #cfc;\n}\nul li:nth-child(3n) a {\n\ttransform: rotate(-3deg);\n\tposition: relative;\n\ttop: -5px;\n\tbackground: #ccf;\n}\nul li:nth-child(5n) a {\n\ttransform: rotate(5deg);\n\tposition: relative;\n\ttop: -10px;\n}\n\nimg {\n\twidth: 20px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}