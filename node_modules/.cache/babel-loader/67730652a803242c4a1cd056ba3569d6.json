{"ast":null,"code":"import { useRoute } from \"vue-router\";\nexport default {\n  name: \"OneNote\",\n  // components: {\n  // \tPostIt,\n  // },\n  props: {\n    id: String,\n    sticky: []\n  },\n\n  data() {\n    return {\n      //stickys: [],\n      tab: []\n    };\n  },\n\n  async mounted() {\n    const route = useRoute(); //var all = JSON.parse(localStorage.getItem(\"stickys\"));\n    //this.tab = JSON.parse(localStorage.getItem(\"stickys\"));\n\n    try {\n      const id = route.params.id;\n      const response = await fetch(`http://5.135.119.239:3090/notes/${id}`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      this.tab = await response.json();\n      this.tab = this.tab.note;\n    } catch (e) {//localStorage.removeItem(\"stickys\");\n    } //all.forEach(function (item) {\n    //if (item._id == route.params._id) {\n    //\tconsole.log(item);\n    //var title = item.title;\n    //this.tab.push(item);\n    //console.log(this.tab);\n\n  },\n\n  //return this.tab;\n  //});\n  methods: {\n    goBack() {\n      this.$router.push(\"/\");\n    },\n\n    async save(id, sticky_title, sticky_content) {\n      //console.log(this.stickys);\n      //const parsed = JSON.stringify(this.stickys);\n      const response = await fetch(`http://5.135.119.239:3090/notes/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          title: sticky_title,\n          content: [sticky_content]\n        })\n      }); //this.stickys = await response.json();\n\n      console.log(response); //console.log(sticky_title, sticky_content);\n      //console.log(this.content);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6BA,SAASA,QAAT,QAAyB,YAAzB;AAEA,eAAe;AACdC,MAAI,EAAE,SADQ;AAEd;AACA;AACA;AACAC,OAAK,EAAE;AACNC,MAAE,EAAEC,MADE;AAENC,UAAM,EAAE;AAFF,GALO;;AASdC,MAAI,GAAG;AACN,WAAO;AACN;AACAC,SAAG,EAAE;AAFC,KAAP;AAIA,GAda;;AAed,QAAMC,OAAN,GAAgB;AACf,UAAMC,KAAI,GAAIT,QAAQ,EAAtB,CADe,CAEf;AACA;;AAEA,QAAI;AACH,YAAMG,EAAC,GAAIM,KAAK,CAACC,MAAN,CAAaP,EAAxB;AACA,YAAMQ,QAAO,GAAI,MAAMC,KAAK,CAAE,mCAAkCT,EAAG,EAAvC,EAA0C;AACrEU,cAAM,EAAE,KAD6D;AAErEC,eAAO,EAAE;AACR,0BAAgB;AADR;AAF4D,OAA1C,CAA5B;AAMA,WAAKP,GAAL,GAAW,MAAMI,QAAQ,CAACI,IAAT,EAAjB;AACA,WAAKR,GAAL,GAAW,KAAKA,GAAL,CAASS,IAApB;AACD,KAVA,CAUE,OAAOC,CAAP,EAAU,CACX;AACD,KAjBe,CAkBf;AACA;AACA;AACA;AACA;AACA;;AACA,GAvCa;;AAwCd;AACA;AAEAC,SAAO,EAAE;AACRC,UAAM,GAAG;AACR,WAAKC,OAAL,CAAaC,IAAb,CAAkB,GAAlB;AACA,KAHO;;AAIR,UAAMC,IAAN,CAAWnB,EAAX,EAAeoB,YAAf,EAA6BC,cAA7B,EAA6C;AAC5C;AACA;AACA,YAAMb,QAAO,GAAI,MAAMC,KAAK,CAAE,mCAAkCT,EAAG,EAAvC,EAA0C;AACrEU,cAAM,EAAE,KAD6D;AAErEC,eAAO,EAAE;AACR,0BAAgB;AADR,SAF4D;AAKrEW,YAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,eAAK,EAAEL,YAAT;AAAuBM,iBAAO,EAAE,CAACL,cAAD;AAAhC,SAAf;AAL+D,OAA1C,CAA5B,CAH4C,CAU5C;;AACAM,aAAO,CAACC,GAAR,CAAYpB,QAAZ,EAX4C,CAY5C;AACA;AACA;;AAlBO;AA3CK,CAAf","names":["useRoute","name","props","id","String","sticky","data","tab","mounted","route","params","response","fetch","method","headers","json","note","e","methods","goBack","$router","push","save","sticky_title","sticky_content","body","JSON","stringify","title","content","console","log"],"sourceRoot":"","sources":["/Users/anthonymaruenda/Rendu/C-DEV-121-PAR-1-2-postit-anthony.maruenda/postit/src/components/OneNote.vue"],"sourcesContent":["<!-- @format -->\n\n<template>\n\t<body>\n\t\t<h1>Mon Post-it</h1>\n\t\t<!-- ici dÃ©marre le contenu du composant -->\n\t\t<div class=\"pannel2\">\n\t\t\t<button class=\"arrow2\" @click=\"goBack()\"><img src=\"../assets/arrow-left.png\" /></button>\n\t\t</div>\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<a href=\"#\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tv-model=\"this.tab.title\"\n\t\t\t\t\t\tv-on:keyup.enter=\"save(sticky._id, sticky.title, sticky.content)\"\n\t\t\t\t\t/>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tv-model=\"this.tab.content\"\n\t\t\t\t\t\tv-on:keyup.enter=\"save(sticky._id, sticky.title, sticky.content)\"\n\t\t\t\t\t></textarea>\n\t\t\t\t\t<!--<h2>{{ this.tab.title }}</h2>\n\t\t\t\t\t<p>{{ this.tab.content }}</p>-->\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t</ul>\n\t</body>\n</template>\n\n<script>\nimport { useRoute } from \"vue-router\";\n\nexport default {\n\tname: \"OneNote\",\n\t// components: {\n\t// \tPostIt,\n\t// },\n\tprops: {\n\t\tid: String,\n\t\tsticky: [],\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t//stickys: [],\n\t\t\ttab: [],\n\t\t};\n\t},\n\tasync mounted() {\n\t\tconst route = useRoute();\n\t\t//var all = JSON.parse(localStorage.getItem(\"stickys\"));\n\t\t//this.tab = JSON.parse(localStorage.getItem(\"stickys\"));\n\n\t\ttry {\n\t\t\tconst id = route.params.id;\n\t\t\tconst response = await fetch(`http://5.135.119.239:3090/notes/${id}`, {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t});\n\t\t\tthis.tab = await response.json();\n\t\t\tthis.tab = this.tab.note;\n\t\t} catch (e) {\n\t\t\t//localStorage.removeItem(\"stickys\");\n\t\t}\n\t\t//all.forEach(function (item) {\n\t\t//if (item._id == route.params._id) {\n\t\t//\tconsole.log(item);\n\t\t//var title = item.title;\n\t\t//this.tab.push(item);\n\t\t//console.log(this.tab);\n\t},\n\t//return this.tab;\n\t//});\n\n\tmethods: {\n\t\tgoBack() {\n\t\t\tthis.$router.push(\"/\");\n\t\t},\n\t\tasync save(id, sticky_title, sticky_content) {\n\t\t\t//console.log(this.stickys);\n\t\t\t//const parsed = JSON.stringify(this.stickys);\n\t\t\tconst response = await fetch(`http://5.135.119.239:3090/notes/${id}`, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ title: sticky_title, content: [sticky_content] }),\n\t\t\t});\n\t\t\t//this.stickys = await response.json();\n\t\t\tconsole.log(response);\n\t\t\t//console.log(sticky_title, sticky_content);\n\t\t\t//console.log(this.content);\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\nbody {\n\tbackground-image: url(\"../assets/liege.webp\");\n\tcolor: #fff;\n\tfont-family: \"Lato\", sans-serif;\n\theight: 100vh;\n}\n\n* {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.pannel2 {\n\tdisplay: flex;\n\tjustify-content: space-evenly;\n}\n\nbutton {\n\tmargin-top: 1rem;\n\tmargin-bottom: 1rem;\n\tpadding: 0.8rem;\n\tbackground: #10ac84;\n\tcolor: white;\n\tborder-radius: 5px;\n\tfont-weight: 700;\n\tcursor: pointer;\n\tfont-size: 1rem;\n}\n\n.arrow2 {\n\tmargin-top: none;\n\tbackground: none;\n\tborder: none;\n\tcolor: black;\n\tfont-weight: 700px;\n}\nh1 {\n\tcolor: black;\n\tfont-size: 3rem;\n}\n\nh2 {\n\tfont-weight: bold;\n\tfont-size: 2.5rem;\n\tmargin-bottom: 40px;\n}\np {\n\tfont-family: \"Reenie Beanie\", cursive;\n\tfont-size: 2.5rem;\n}\n\nul {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n}\nul,\nli {\n\tlist-style: none;\n}\n\nul li a {\n\ttext-decoration: none;\n\tcolor: #000;\n\tbackground: #ffc;\n\tdisplay: block;\n\theight: 25em;\n\twidth: 25em;\n\tpadding: 0;\n\tbox-shadow: 5px 5px 7px rgba(33, 33, 33, 0.7);\n\ttransform: rotate(-6deg);\n\ttransition: transform 0.15s linear;\n}\n\nul li a:hover,\nul li a:focus {\n\tbox-shadow: 10px 10px 7px rgba(0, 0, 0, 0.7);\n\ttransform: scale(1.25);\n\tposition: relative;\n\tz-index: 5;\n}\n\nul li {\n\tmargin: 2em;\n}\n\ntextarea {\n\tmargin-top: 1rem;\n\twidth: 380px;\n\theight: 280px;\n\tbackground: none;\n\tborder: 0px;\n\tfont-size: 2.8rem;\n\tfont-family: \"Reenie Beanie\", cursive;\n\toutline: none;\n\tresize: none;\n}\n\ninput {\n\tbackground: none;\n\tborder: 0px;\n\tfont-size: 3rem;\n\tfont-family: \"Lato\", sans-serif;\n\ttext-align: center;\n\twidth: 390px;\n\n\toutline: none;\n\tresize: none;\n}\n\nimg {\n\twidth: 50px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}