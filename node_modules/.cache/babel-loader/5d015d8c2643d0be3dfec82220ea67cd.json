{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../assets/trash.png';\nimport _imports_1 from '../assets/arrow-right.png';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3b62b29b\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"pannel\"\n};\nconst _hoisted_2 = {\n  href: \"#\"\n};\nconst _hoisted_3 = [\"onUpdate:modelValue\", \"onKeyup\"];\nconst _hoisted_4 = {\n  class: \"stickyButton\"\n};\nconst _hoisted_5 = [\"onClick\"];\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = [_hoisted_6];\nconst _hoisted_8 = [\"disabled\"];\nconst _hoisted_9 = [\"onClick\"];\n\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_1\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_11 = [_hoisted_10];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"body\", null, [_createElementVNode(\"h1\", null, _toDisplayString($props.msg), 1\n  /* TEXT */\n  ), _createCommentVNode(\" ici démarre le contenu du composant \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addSticky && $options.addSticky(...args))\n  }, \"Ajouter un Post-It\"), $data.hide ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.hideDelete && $options.hideDelete(...args))\n  }, \"Arrêter la suppression\")) : (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.hideDelete && $options.hideDelete(...args))\n  }, \"Supprimer un Post-It\"))]), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.stickys, sticky => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: sticky._id\n    }, [_createElementVNode(\"a\", _hoisted_2, [_createElementVNode(\"h2\", null, _toDisplayString(sticky.title), 1\n    /* TEXT */\n    ), _withDirectives(_createElementVNode(\"textarea\", {\n      \"onUpdate:modelValue\": $event => sticky.content = $event,\n      onKeyup: _withKeys($event => $options.save(sticky._id), [\"enter\"])\n    }, null, 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_3), [[_vModelText, sticky.content]]), _createElementVNode(\"div\", _hoisted_4, [$data.hide ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $options.removeSticky(sticky._id),\n      class: \"delete\"\n    }, _hoisted_7, 8\n    /* PROPS */\n    , _hoisted_5)) : (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      class: \"delete\",\n      disabled: _ctx.isDisabled\n    }, null, 8\n    /* PROPS */\n    , _hoisted_8)), _createCommentVNode(\"<router-link to=\\\"/note\\\">\"), _createElementVNode(\"button\", {\n      class: \"arrow\",\n      onClick: $event => $options.goToNote(sticky._id)\n    }, _hoisted_11, 8\n    /* PROPS */\n    , _hoisted_9), _createCommentVNode(\"</router-link>\")])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]);\n}","map":{"version":3,"mappings":";OAoBYA,gBAAyB;OAKzBC,gBAA+B;;;;;AAlBpCC,OAAK,EAAC;;;AAQNC,MAAI,EAAC;;;;AAGFD,OAAK,EAAC;;;;gEAETE,oBAAiC,KAAjC,EAAiC;AAA5BC,KAAyB,EAAzBL;AAA4B,CAAjC,EAA8B,IAA9B,EAA8B;AAAA;AAA9B;;oBAAAM;;;;iEAKAF,oBAAuC,KAAvC,EAAuC;AAAlCC,KAA+B,EAA/BJ;AAAkC,CAAvC,EAAoC,IAApC,EAAoC;AAAA;AAApC;;qBAAAM;;uBAtBNC,oBA6BO,MA7BP,EA6BO,IA7BP,EA6BO,CA5BNJ,oBAAkB,IAAlB,EAAkB,IAAlB,EAAkBK,iBAAXC,UAAW,CAAlB,EAAU;AAAA;AAAV,GA4BM,EA1BNC,4DA0BM,EAzBNP,oBAIM,KAJN,cAIM,CAHLA,oBAAsD,QAAtD,EAAsD;AAA7CQ,WAAK,yCAAEC,iDAAF;AAAwC,GAAtD,EAA2B,oBAA3B,CAGK,EAF6BC,4BAAlCN,oBAAuE,QAAvE,EAAuE;UAAA;AAA9DI,WAAK,yCAAEC,mDAAF;AAAyD,GAAvE,EAAwC,wBAAxC,oBACAL,oBAAgE,QAAhE,EAAgE;UAAA;AAAvDI,WAAK,yCAAEC,mDAAF;AAAkD,GAAhE,EAAmC,sBAAnC,EACK,CAJN,CAyBM,EAnBNT,oBAkBK,IAlBL,EAkBK,IAlBL,EAkBK,oBAjBJI,oBAgBKO,SAhBL,EAgBK,IAhBL,EAgBKC,YAhBgBF,aAgBhB,EAhBMG,MAAiB,IAAX;yBAAjBT,oBAgBK,IAhBL,EAgBK;AAhB0BU,SAAG,EAAED,MAAM,CAACE;AAgBtC,KAhBL,GACCf,oBAcI,GAdJ,cAcI,CAbHA,oBAA2B,IAA3B,EAA2B,IAA3B,EAA2BK,iBAApBQ,MAAM,CAACG,KAAa,CAA3B,EAAmB;AAAA;AAAnB,KAaG,kBAZHhB,oBAAkF,UAAlF,EAAkF;uCAA/Da,MAAM,CAACI,UAAOC,MAAiD;AAA1CC,aAAK,sBAAQV,cAAKI,MAAM,CAACE,GAAZ,CAAR,EAAuB,SAAvB;AAAqC,KAAlF;;AAAA,kCAAmBF,MAAM,CAACI,UAYvB,EAXHjB,oBAUM,KAVN,cAUM,CAT0DU,4BAA/DN,oBAES,QAFT,EAES;YAAA;AAFAI,aAAK,YAAEC,sBAAaI,MAAM,CAACE,GAApB,CAEP;AAFiCjB,WAAK,EAAC;AAEvC,KAFT;;AAAA,oCAGAM,oBAA8D,QAA9D,EAA8D;YAAA;AAAtDN,WAAK,EAAC,QAAgD;AAA/BsB,cAAQ,EAAEC;AAAqB,KAA9D;;AAAA,kBAMK,EALLd,iDAKK,EAJLP,oBAES,QAFT,EAES;AAFDF,WAAK,EAAC,OAEL;AAFcU,aAAK,YAAEC,kBAASI,MAAM,CAACE,GAAhB;AAErB,KAFT;;AAAA,iBAIK,EADLR,qCACK,CAVN,CAWG,CAdJ,EADD;GAgBK,CAhBL;;AAAA,GAiBI,EAlBL,CAmBM,CA7BP","names":["_imports_0","_imports_1","class","href","_createElementVNode","src","_hoisted_6","_hoisted_10","_createElementBlock","_toDisplayString","$props","_createCommentVNode","onClick","$options","$data","_Fragment","_renderList","sticky","key","_id","title","content","$event","onKeyup","disabled","_ctx"],"sourceRoot":"","sources":["/Users/anthonymaruenda/Rendu/C-DEV-121-PAR-1-2-postit-anthony.maruenda/postit/src/components/PostIt.vue"],"sourcesContent":["<!-- @format -->\n\n<template>\n\t<body>\n\t\t<h1>{{ msg }}</h1>\n\n\t\t<!-- ici démarre le contenu du composant -->\n\t\t<div class=\"pannel\">\n\t\t\t<button @click=\"addSticky\">Ajouter un Post-It</button>\n\t\t\t<button @click=\"hideDelete\" v-if=\"hide\">Arrêter la suppression</button>\n\t\t\t<button @click=\"hideDelete\" v-else>Supprimer un Post-It</button>\n\t\t</div>\n\n\t\t<ul>\n\t\t\t<li v-for=\"sticky in stickys\" :key=\"sticky._id\">\n\t\t\t\t<a href=\"#\">\n\t\t\t\t\t<h2>{{ sticky.title }}</h2>\n\t\t\t\t\t<textarea v-model=\"sticky.content\" v-on:keyup.enter=\"save(sticky._id)\"></textarea>\n\t\t\t\t\t<div class=\"stickyButton\">\n\t\t\t\t\t\t<button @click=\"removeSticky(sticky._id)\" class=\"delete\" v-if=\"hide\">\n\t\t\t\t\t\t\t<img src=\"../assets/trash.png\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class=\"delete\" v-else :disabled=\"isDisabled\"></button>\n\t\t\t\t\t\t<!--<router-link to=\"/note\">-->\n\t\t\t\t\t\t<button class=\"arrow\" @click=\"goToNote(sticky._id)\">\n\t\t\t\t\t\t\t<img src=\"../assets/arrow-right.png\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<!--</router-link>-->\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t</ul>\n\t</body>\n</template>\n\n<script>\n//let id = 0;\nexport default {\n\tname: \"PostIt\",\n\tprops: {\n\t\tmsg: String,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\thide: false,\n\t\t\tstickys: [],\n\t\t\t// mySticky: [],\n\t\t};\n\t},\n\tasync mounted() {\n\t\t//if (localStorage.getItem(\"stickys\")) {\n\t\ttry {\n\t\t\tconst response = await fetch(\"http://5.135.119.239:3090/notes\", {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t});\n\t\t\tthis.stickys = await response.json();\n\t\t\tthis.stickys = this.stickys.notes;\n\t\t} catch (e) {\n\t\t\t//localStorage.removeItem(\"stickys\");\n\t\t}\n\t\t//}\n\t\t//if (localStorage.id) {\n\t\t//id = localStorage.id;\n\t\t//}\n\t},\n\tmethods: {\n\t\tasync addSticky() {\n\t\t\tconst response = await fetch(\"http://5.135.119.239:3090/notes\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ title: \"Post-It\", content: [\"Tapez votre texte\"] }),\n\t\t\t});\n\t\t\tconsole.log(response);\n\n\t\t\t//console.log(this.content);\n\t\t\t//contents.push({ content: this.content });\n\t\t\t//this.stickys.push({ title: \"My Post-it\", content: this.contents });\n\t\t\tlocation.reload();\n\t\t},\n\t\tasync save(id) {\n\t\t\tconsole.log(this.stickys);\n\t\t\t//const parsed = JSON.stringify(this.stickys);\n\t\t\tconst response = await fetch(`http://5.135.119.239:3090/notes/${id}`, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(this.stickys),\n\t\t\t});\n\t\t\t//this.stickys = await response.json();\n\t\t\tconsole.log(response);\n\t\t},\n\t\thideDelete() {\n\t\t\tthis.hide = !this.hide;\n\t\t},\n\t\tasync removeSticky(id) {\n\t\t\t//this.stickys = this.stickys.filter((t) => t !== sticky);\n\t\t\tconst response = await fetch(`http://5.135.119.239:3090/notes/${id}`, {\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t});\n\t\t\tconsole.log(response);\n\t\t\tlocation.reload();\n\t\t},\n\t\tgoToNote(id) {\n\t\t\tthis.$router.push(`/note/${id}`);\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\nbody {\n\tbackground-image: url(\"../assets/liege.webp\");\n\tcolor: #fff;\n\tfont-family: \"Lato\", sans-serif;\n\theight: 100%;\n}\n\n* {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.pannel {\n\tdisplay: flex;\n\tjustify-content: space-evenly;\n}\n\n.stickyButton {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\nbutton {\n\tmargin-top: 1rem;\n\tmargin-bottom: 1rem;\n\tpadding: 0.8rem;\n\tbackground: #10ac84;\n\tcolor: white;\n\tborder-radius: 5px;\n\tfont-weight: 700;\n\tcursor: pointer;\n\tfont-size: 1rem;\n}\n\n.delete {\n\tmargin-top: none;\n\tbackground: none;\n\tborder: none;\n}\n.arrow {\n\tmargin-top: none;\n\tbackground: none;\n\tborder: none;\n\tcolor: black;\n\tfont-weight: 700px;\n}\n\nh1 {\n\tcolor: black;\n\tfont-size: 3rem;\n}\n\nh2 {\n\tfont-weight: bold;\n\tfont-size: 1.5rem;\n}\np {\n\tfont-family: \"Reenie Beanie\", cursive;\n\tfont-size: 1.8rem;\n}\n\nul {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n}\nul,\nli {\n\tlist-style: none;\n}\n\nul li a {\n\ttext-decoration: none;\n\tcolor: #000;\n\tbackground: #ffc;\n\tdisplay: block;\n\theight: 12em;\n\twidth: 12em;\n\tpadding: 0;\n\tbox-shadow: 5px 5px 7px rgba(33, 33, 33, 0.7);\n\ttransform: rotate(-6deg);\n\ttransition: transform 0.15s linear;\n}\n\nul li a:hover,\nul li a:focus {\n\tbox-shadow: 10px 10px 7px rgba(0, 0, 0, 0.7);\n\ttransform: scale(1.25);\n\tposition: relative;\n}\n\nul li {\n\tmargin: 2em;\n}\n\ntextarea {\n\tmargin-top: 1rem;\n\twidth: 180px;\n\theight: 80px;\n\tbackground: none;\n\tborder: 0px;\n\tfont-size: 1.8rem;\n\tfont-family: \"Reenie Beanie\", cursive;\n\toutline: none;\n\tresize: none;\n}\n\nul li:nth-child(even) a {\n\ttransform: rotate(4deg);\n\tposition: relative;\n\ttop: 5px;\n\tbackground: #cfc;\n}\nul li:nth-child(3n) a {\n\ttransform: rotate(-3deg);\n\tposition: relative;\n\ttop: -5px;\n\tbackground: #ccf;\n}\nul li:nth-child(5n) a {\n\ttransform: rotate(5deg);\n\tposition: relative;\n\ttop: -10px;\n}\n\nimg {\n\twidth: 20px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}